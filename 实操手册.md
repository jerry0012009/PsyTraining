# æ¸¸æˆé›†æˆå®æ“æ‰‹å†Œ

ä»¥è®°å¿†å¡ç‰‡æ¸¸æˆä¸ºä¾‹ï¼Œå±•ç¤ºå®Œæ•´çš„é›†æˆè¿‡ç¨‹ã€‚

## ğŸ“ åˆ›å»ºæ¸¸æˆç›®å½•

```bash
games/memory-cards/
â”œâ”€â”€ game.html          # æ¸¸æˆç•Œé¢
â”œâ”€â”€ game.css           # æ¸¸æˆæ ·å¼  
â””â”€â”€ game.js            # æ¸¸æˆé€»è¾‘ï¼ˆæ ¸å¿ƒæ–‡ä»¶ï¼‰
```

## ğŸ® æ ¸å¿ƒæ¸¸æˆç±»å®ç°

### games/memory-cards/game.js

```javascript
class MemoryCardsGame {
    constructor() {
        this.gameState = {
            isRunning: false, isPaused: false, currentRound: 0, score: 0,
            cards: [], flippedCards: [], matchedPairs: 0
        };
        this.gameData = { rounds: [], currentRoundData: null };
        this.initializeGame();
    }

    // ğŸ”´ å¿…é¡»å®ç° - ç›‘å¬è®­ç»ƒç³»ç»Ÿ
    initializeGame() {
        window.addEventListener('trainingSystemEvent', (event) => {
            this.handleTrainingEvent(event.detail);
        });
    }

    // ğŸ”´ å¿…é¡»å®ç° - å¤„ç†è®­ç»ƒäº‹ä»¶
    handleTrainingEvent(eventDetail) {
        switch (eventDetail.event) {
            case 'training_start': this.startFirstRound(); break;
            case 'training_pause': this.pauseGame(); break;
            case 'training_resume': this.resumeGame(); break;
            case 'training_end': this.endAllRounds(); break;
        }
    }

    startFirstRound() {
        this.gameState.currentRound++;
        this.gameState.isRunning = true;
        
        this.gameData.currentRoundData = {
            roundNumber: this.gameState.currentRound,
            startTime: Date.now(),
            score: 0, matches: 0, mistakes: 0, events: []
        };
        
        this.setupCards();
        this.recordEvent('round_started');
    }

    // ğŸ”´ å¿…é¡»å®ç° - æŠ¥å‘Šæ•°æ®
    reportToTrainingSystem() {
        const report = {
            gameType: 'memory_cards',
            currentRound: this.gameState.currentRound,
            roundData: this.gameData.currentRoundData,
            totalStats: { /* ç»Ÿè®¡æ•°æ® */ },
            cognitiveMetrics: this.calculateCognitiveMetrics()
        };
        
        if (window.TrainingAPI) {
            TrainingAPI.reportGameData(report);
        }
    }

    // ğŸ”´ å¿…é¡»å®ç° - è®¤çŸ¥åˆ†æ
    calculateCognitiveMetrics() {
        const rounds = this.gameData.rounds;
        const mean = arr => arr.reduce((sum, val) => sum + val, 0) / arr.length;
        
        return {
            learningMemory: {
                workingMemory: {
                    memoryAccuracy: mean(rounds.map(r => r.matches / (r.matches + r.mistakes)))
                }
            },
            attention: {
                sustainedAttention: {
                    consistencyIndex: this.calculateConsistency(rounds.map(r => r.score))
                }
            }
        };
    }
}
```

## ğŸ¨ æ¸¸æˆæ ·å¼

### games/memory-cards/game.css

```css
.memory-game-board {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
    max-width: 400px;
    margin: 20px auto;
}

.memory-card {
    width: 80px; height: 80px;
    background: #3498db;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.memory-card:hover { transform: scale(1.05); }
.memory-card.flipped { background: #2ecc71; }
.memory-card.matched { background: #e74c3c; opacity: 0.6; }
```

## ğŸ“„ æ¸¸æˆé¡µé¢

### memory-cards-game.html

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <title>è®°å¿†å¡ç‰‡æ¸¸æˆ - å¿ƒç†æµ‹é‡è®­ç»ƒ</title>
    <link rel="stylesheet" href="game-template/template.css">
    <link rel="stylesheet" href="games/memory-cards/game.css">
</head>
<body>
    <div class="game-platform">
        <!-- æ ‡å‡†æ§åˆ¶æ  -->
        <div class="control-bar">...</div>
        
        <!-- æ¸¸æˆå®¹å™¨ -->
        <div class="game-container">
            <div id="game-content" class="game-content">
                <div id="memory-game-board"></div>
                
                <div class="game-instruction">
                    <p><strong>ğŸ® æ¸¸æˆè¯´æ˜</strong></p>
                    <p>ğŸ§  ç‚¹å‡»å¡ç‰‡æ‰¾åˆ°ç›¸åŒçš„ä¸€å¯¹</p>
                    <p>ğŸ¯ è®­ç»ƒç›®æ ‡ï¼šæé«˜å·¥ä½œè®°å¿†å’Œæ³¨æ„åŠ›</p>
                </div>
            </div>
        </div>
        
        <!-- ä¿¡æ¯æ  -->
        <div class="info-bar">...</div>
    </div>

    <script src="game-template/template.js"></script>
    <script src="games/memory-cards/game.js"></script>
</body>
</html>
```

## ğŸ  æ›´æ–°ä¸»é¡µ

åœ¨index.htmlæ·»åŠ æ¸¸æˆå¡ç‰‡ï¼š

```html
<div class="game-card">
    <div class="game-icon">
        <i class="fas fa-brain"></i>
    </div>
    <h3>è®°å¿†å¡ç‰‡æ¸¸æˆ</h3>
    <p>è®­ç»ƒå·¥ä½œè®°å¿†å’Œæ³¨æ„åŠ›çš„ç»å…¸æ¸¸æˆ</p>
    <a href="memory-cards-game.html" class="game-btn">å¼€å§‹è®­ç»ƒ</a>
</div>
```

## âœ… æ ¸å¿ƒæ£€æŸ¥æ¸…å•

### å¿…é¡»å®ç°çš„æ–¹æ³•ï¼š
- [ ] `handleTrainingEvent()` - å¤„ç†è®­ç»ƒç³»ç»Ÿäº‹ä»¶
- [ ] `reportToTrainingSystem()` - æŠ¥å‘Šæ•°æ®ç»™è®­ç»ƒç³»ç»Ÿ  
- [ ] `calculateCognitiveMetrics()` - è®¡ç®—è®¤çŸ¥æŒ‡æ ‡
- [ ] `recordEvent()` - è®°å½•å…³é”®äº‹ä»¶

### å¿…é¡»å¤„ç†çš„äº‹ä»¶ï¼š
- [ ] `training_start` - å¼€å§‹è®­ç»ƒ
- [ ] `training_pause` - æš‚åœæ¸¸æˆ
- [ ] `training_resume` - æ¢å¤æ¸¸æˆ
- [ ] `training_end` - ç»“æŸè®­ç»ƒ

### æ•°æ®æ ¼å¼è¦æ±‚ï¼š
- [ ] è½®æ¬¡æ•°æ®åŒ…å«ï¼šå¼€å§‹æ—¶é—´ã€ç»“æŸæ—¶é—´ã€å¾—åˆ†ã€äº‹ä»¶
- [ ] è®¤çŸ¥æŒ‡æ ‡ç¬¦åˆäº”å¤§é¢†åŸŸæ¡†æ¶
- [ ] JSONè¾“å‡ºæ ¼å¼æ­£ç¡®

## ğŸ§ª ç®€å•æµ‹è¯•

```javascript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œ
function quickTest() {
    console.log('æ¸¸æˆå¯¹è±¡:', typeof window.memoryCardsGame);
    console.log('å¿…éœ€æ–¹æ³•:', 
        typeof window.memoryCardsGame?.handleTrainingEvent === 'function');
}
```

## ğŸ¯ å¿«é€Ÿå¤åˆ¶æµç¨‹

1. **å¤åˆ¶Snakeæ¸¸æˆç›®å½•** â†’ `games/memory-cards/`
2. **ä¿®æ”¹game.jsæ ¸å¿ƒé€»è¾‘** â†’ ä¿æŒæ¥å£ä¸å˜
3. **è°ƒæ•´game.cssæ ·å¼** â†’ é€‚é…æ–°æ¸¸æˆ
4. **åˆ›å»ºæ¸¸æˆé¡µé¢** â†’ ä½¿ç”¨æ ‡å‡†æ¨¡æ¿
5. **æ›´æ–°ä¸»é¡µ** â†’ æ·»åŠ æ¸¸æˆå¡ç‰‡
6. **æµ‹è¯•éªŒè¯** â†’ ç¡®ä¿åŠŸèƒ½å®Œæ•´

æŒ‰ç…§è¿™ä¸ªå®æ“æ‰‹å†Œï¼Œ20åˆ†é’Ÿå†…å®Œæˆæ–°æ¸¸æˆé›†æˆï¼ğŸš€ 
# 字母记忆任务 (Letter Memory) 数据保存机制

## 保存方式

### 主要保存方法
- **在线保存**: 实验结束时通过 AJAX POST 请求将数据发送到 `/save` 端点
- **本地备份**: 当在线保存失败时，自动触发本地保存

### 保存的文件
- **文件名**: `letter-memory_results.csv`
- **格式**: CSV格式
- **位置**: 浏览器下载文件夹

## 数据内容

### 收集的数据类型
1. **实验配置数据**
   - 试验ID (trial_id)
   - 实验阶段 (exp_stage: 'practice' / 'test')
   - 序列长度 (sequence_length)
   - 呈现的字母 (stimulus)

2. **被试反应数据**
   - 反应时间 (rt)
   - 被试输入的答案
   - 试验类型

3. **注意力检查数据**
   - 注意力检查的正确性
   - 注意力检查通过率

4. **后任务问卷**
   - 任务总结
   - 任务评论

### 实验设计
- **练习阶段**: 2个序列 (长度5和7)
- **正式测试**: 12个序列 (长度随机为5,7,9,11)
- **核心任务**: 记住并报告最后呈现的4个字母

## 数据流程

1. **数据收集**: jsPsych框架自动收集每个试验的数据
2. **数据序列化**: 实验结束时将数据转换为JSON格式
3. **保存尝试**: 
   - 首先尝试POST到服务器 `/save` 端点
   - 成功则跳转到 `/next` 页面
   - 失败则触发本地CSV下载
4. **本地保存**: 使用 `jsPsych.data.localSave()` 方法保存为CSV文件

## 重要说明

- 该实验依赖 jsPsych 框架进行数据管理
- 数据保存采用双重保障机制（在线+本地）
- 本地保存的CSV文件可直接用于数据分析
- 实验包含中文界面和说明
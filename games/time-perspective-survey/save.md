# Time Perspective Survey - 数据保存机制

## 概述
时间观调查问卷，基于津巴多时间观量表（Zimbardo Time Perspective Inventory，ZTPI），用于评估个体对过去、现在和未来时间的态度和行为倾向。问卷包含约56个问题，采用5点李克特量表评分。

## 数据保存机制

### 数据收集
- **问卷类型**: 基于Web表单的时间观心理学调查
- **理论基础**: 津巴多时间观理论框架
- **框架**: jQuery Wizard插件 + Material Design UI + 表单验证
- **问题数量**: 约56个时间观相关问题 + 指导说明页面
- **评分方式**: 5点李克特量表（非常不符合到非常符合）
- **数据来源**: survey.tsv文件定义问题结构和选项

### 数据保存流程
1. **表单数据收集**: 
   - 通过jQuery遍历所有选中的radio按钮
   - 提取每个回答的name、value、options、text属性
2. **服务器保存尝试**:
   - AJAX POST请求到 `/save` 端点
   - 数据格式: JSON数组
   - 成功后重定向到 `/next`
3. **本地备份保存**:
   - 服务器不可用时自动触发
   - 创建JSON格式的下载链接
   - 文件名: `time-perspective-survey_result.json`
   - 通过浏览器下载功能保存到本地

### 数据内容结构
每个回答记录包含：
- **name**: 问题标识符（如"time-perspective-survey_4_options"）
- **value**: 选择的数值（1-5，对应不同符合程度）
- **options**: 所有可选项的文本（"非常不符合, 不符合, 中性, 符合, 非常符合"）
- **text**: 完整的问题文本

### 时间观维度概要
**过去导向时间观**
- 对童年回忆和过去经历的态度
- 怀旧情结和历史关联感
- 过往痛苦经历的影响

**现在享乐时间观**
- 即时快乐和感官体验的追求
- 冲动行为和享乐主义态度
- 对当下时刻的专注

**现在宿命时间观**
- 对命运和外部控制的信念
- 无助感和被动应对态度
- 认为努力无法改变结果

**未来导向时间观**
- 目标设定和计划制定能力
- 延迟满足和长远思维
- 时间管理和责任感

### 关键特征
- **双重保存机制**: 服务器优先，本地备份
- **完整数据保留**: 保存原始问题文本和所有选项信息
- **结构化格式**: JSON数组便于后续时间观分析
- **用户体验优化**: 保存失败时自动切换到下载模式
- **心理测量支持**: 数据格式适合进行时间观维度计算和分析

### 文件位置
- 本地保存文件: `time-perspective-survey_result.json`（用户下载文件夹）
- 服务器保存: 通过 `/save` API端点处理
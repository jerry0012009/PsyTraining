# Simon 任务数据保存说明

## 任务概述
Simon任务是经典的认知冲突测试，用于评估空间-反应兼容性效应和认知控制能力。被试需要根据刺激的颜色（红色/蓝色）进行反应，而忽略刺激的空间位置，测量空间信息对反应的干扰效应。

## 数据保存机制

### 技术架构
- **实验框架**: jsPsych 实验心理学框架
- **练习阶段**: poldrack-categorize 插件，提供正确/错误反馈
- **测试阶段**: poldrack-single-stim 插件，无反馈纯反应时测量
- **随机化**: 刺激顺序和颜色-按键映射随机化

### 任务设计

#### 刺激设置
- **刺激类型**: 红色和蓝色方块
- **空间位置**: 左侧或右侧呈现
- **反应键**: 左右箭头键（随机分配给颜色）
- **刺激时间**: 2000ms最大反应时间

#### 条件设计
1. **一致条件（Congruent）**: 
   - 红色方块在左侧 → 左箭头键（如果红色映射到左键）
   - 蓝色方块在右侧 → 右箭头键（如果蓝色映射到右键）

2. **不一致条件（Incongruent）**:
   - 红色方块在右侧 → 左箭头键（空间位置与反应方向冲突）
   - 蓝色方块在左侧 → 右箭头键（空间位置与反应方向冲突）

### 保存的数据字段

#### 试验基础信息
```javascript
{
    trial_id: "stim",                    // 刺激试验标识
    exp_stage: "practice|test",          // 实验阶段
    stim_side: "left|right",             // 刺激空间位置
    stim_color: "red|blue",              // 刺激颜色
    condition: "congruent|incongruent",   // 兼容性条件
    correct_response: 37|39              // 正确反应键码（左右箭头）
}
```

#### 反应数据
- **key_press**: 被试实际按键（37=左箭头，39=右箭头）
- **rt**: 反应时间（毫秒，-1表示超时未反应）
- **correct**: 反应正确性（true/false）
- **possible_responses**: 可接受的反应键（[37, 39]）

#### 实验控制数据
- **trial_num**: 试验序号
- **timing_post_trial**: 试验间间隔（随机500-1000ms）

### 刺激条件生成

#### 测试刺激定义
```javascript
var test_stimuli = [
    // 红色刺激
    {
        stimulus: '<div class = centerbox><div class = simon_left id = stim1></div></div>',
        data: {
            stim_side: 'left', stim_color: 'red',
            condition: 'congruent'  // 假设红色映射到左键
        }
    },
    {
        stimulus: '<div class = centerbox><div class = simon_right id = stim1></div></div>',
        data: {
            stim_side: 'right', stim_color: 'red',
            condition: 'incongruent' // 右侧红色但左键反应
        }
    },
    // 蓝色刺激（类似结构）
    // ...
];
```

#### 随机化机制
- **练习阶段**: 每个刺激重复5次，随机顺序（20个试验）
- **测试阶段**: 每个刺激重复25次，随机顺序（100个试验）
- **颜色-按键映射**: 实验开始时随机分配

### 数据分析指标

#### 性能评估函数（assessPerformance）
```javascript
// 质量控制指标
var missed_percent = missed_count/trial_count;     // 遗漏率
var avg_rt = math.median(rt_array);                // 中位反应时间
var responses_ok = true;                           // 反应分布检查

// 质量标准
credit_var = (missed_percent < 0.4 &&              // 遗漏率 < 40%
              avg_rt > 200 &&                      // 反应时间 > 200ms
              responses_ok);                       // 反应分布合理
```

#### Simon效应计算
1. **Simon效应大小**: 不一致条件RT - 一致条件RT
2. **准确率差异**: 一致条件准确率 - 不一致条件准确率  
3. **效应比率**: Simon效应 / 平均反应时间
4. **个体效应大小**: 标准化的Simon效应

### 认知控制机制

#### 冲突处理过程
1. **自动空间编码**: 刺激位置自动激活相应的反应倾向
2. **任务相关处理**: 根据颜色确定正确反应
3. **冲突检测**: 检测空间位置与颜色反应的冲突
4. **冲突解决**: 抑制空间反应，执行颜色反应

#### 信息处理模型
- **双路径模型**: 空间路径vs颜色路径的竞争
- **冲突监控理论**: 前扣带皮层检测冲突并调节控制
- **激活抑制模型**: 激活任务相关信息，抑制无关信息

### 实验流程设计

#### 练习阶段特点
- **反馈提供**: 正确/错误的即时反馈
- **学习机会**: 建立稳定的颜色-反应映射
- **质量监控**: 确保被试理解任务要求

#### 测试阶段特点
- **纯RT测量**: 无反馈，专注反应时间测量
- **条件平衡**: 一致和不一致条件随机交替
- **疲劳控制**: 适当的试验间间隔

### Simon效应的认知意义

#### 注意控制评估
1. **选择性注意**: 专注任务相关特征（颜色），忽略无关特征（位置）
2. **抑制控制**: 抑制自动的空间反应倾向
3. **冲突解决**: 处理竞争反应倾向的冲突
4. **认知灵活性**: 在空间和颜色信息间灵活转换

#### 个体差异来源
- **年龄效应**: 儿童和老年人Simon效应更大
- **认知控制能力**: 个体冲突解决能力差异
- **注意网络效率**: 执行注意网络的成熟度
- **处理速度**: 基础认知处理速度差异

### 神经机制基础

#### 脑网络参与
1. **背侧注意网络**: 自上而下的注意控制
2. **前扣带皮层**: 冲突监控和认知控制
3. **右侧前额叶**: 抑制控制和反应选择
4. **顶叶皮层**: 空间注意和视觉运动整合

#### 电生理指标
- **N450成分**: 冲突检测的电生理标记
- **ERN(错误相关负波)**: 错误监控和冲突处理
- **P300成分**: 刺激评估和反应选择过程

### 临床应用指标

#### 注意缺陷评估
- **ADHD**: Simon效应与注意控制缺陷的关联
- **执行功能障碍**: 冲突解决能力的客观测量
- **认知控制评估**: 前额叶功能的敏感指标

#### 发展与老化研究
- **认知发展**: 儿童注意控制能力的发展轨迹
- **认知老化**: 老年人认知控制能力的衰退模式
- **可塑性研究**: 认知训练对注意控制的改善效果

### 数据质量控制

#### 质量标准设定
```javascript
// 数据质量检查
var responses_ok = true;
Object.keys(choice_counts).forEach(function(key, index) {
    if (choice_counts[key] > trial_count * 0.85) {
        responses_ok = false;  // 单一反应占比过高
    }
});
```

#### 异常数据识别
1. **超快反应**: RT < 200ms可能为预期反应
2. **遗漏过多**: 遗漏率 > 40%表明注意不集中
3. **反应偏向**: 过度偏向单一反应键
4. **准确率过低**: 可能未理解任务要求

### 数据导出格式
jsPsych自动保存为JSON格式，包含：
- 每个试验的条件信息和反应数据
- Simon效应的原始数据和计算结果
- 数据质量评估和异常标记
- 可计算个体差异和效应大小的完整信息

## 临床应用价值
Simon任务广泛应用于：
- **注意控制评估**: 选择性注意和冲突解决能力测量
- **执行功能评估**: 认知控制和抑制能力的客观指标
- **ADHD诊断**: 注意缺陷多动障碍的辅助评估工具
- **认知发展研究**: 儿童认知控制能力的发展追踪
- **神经心理评估**: 前额叶和注意网络功能评估

## 注意事项
- 确保被试理解按颜色反应而非位置反应
- 强调速度和准确性的平衡要求
- 注意颜色-按键映射的个体差异影响
- 监控Simon效应的合理性和一致性
<!DOCTYPE html><html class=''>
<head>
    <meta charset='UTF-8'>
    <meta name="robots" content="noindex">
    <title>实验工厂：调查</title>
    
    <link rel='stylesheet' type='text/css' href='css/material.blue-red.min.css'>
    <link rel='stylesheet' type='text/css' href='css/surveys.css'>
    <link rel='stylesheet' type='text/css' href='css/jquery-ui-1.10.4.custom.min.css'>
    <link rel='stylesheet' type='text/css' href='css/style.css'>
</head>

<body>

    <script src='js/jquery-2.1.1.min.js'></script>
    <script src='js/material.min.js'></script>
    <script src='js/jquery-ui-1.10.4.custom.min.js'></script>
    <script src='js/jquery.wizard.js'></script>
    <script src='js/jquery.form-3.50.js'></script>
    <script src='js/jquery.validate-1.12.0.min.js'></script>

<div class="experiment-layout mdl-layout mdl-layout--fixed-header mdl-js-layout mdl-color--grey-100">
<div class="experiment-ribbon"></div>
<main class="experiment-main mdl-layout__content">
<div class="experiment-container mdl-grid">
<div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone">
</div>
<div class="experiment-content mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--8-col">

<div id="questions">

<form name="questions" action="#", method="POST">
<div class="step">
<h3>欢迎参加此次调查。按<strong>下一步</strong>开始。</h3><br><br><br><br></div>
<div class="step">
<h3>这些项目涉及一系列假设情景。每个情景描述一个事件并列出三种应对方式。请阅读每个情景，想象自己处于那种情况下，然后考虑每一种可能的反应。从你可能做出这种反应的概率角度来考虑每个选项。我们每个人都会以各种方式回应不同的情况，可能大多数或所有反应对你来说都至少有一点可能性。

如果你不太可能以某种方式回应，你应该选择答案1或2。如果中等可能，你应该选择中等范围的数字，如果你很可能按描述的方式回应，你应该选择答案6或7。
</h3><br><br><br><br></div>
<div class="step">
<p id="general-causality-orientations-survey_2_options" class="likert">你在一家工作了一段时间的公司得到了一个新职位的offer。可能首先想到的问题是：</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_2_0">
<input type="radio" id="option-general-causality-orientations-survey_2_0" class="mdl-radio__button required page3" name="general-causality-orientations-survey_2_options" value="a" meta-options="a. What if I can't live up to the new responsibility?|b. Will I make more at this position?|c. I wonder if the new work will be interesting. (A)" meta-text="You have been offered a new position in a company where you have worked for some time. The first question that is likely to come to mind is:">
<span class="mdl-radio__label">a. 如果我无法胜任新的责任怎么办？</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_2_1">
<input type="radio" id="option-general-causality-orientations-survey_2_1" class="mdl-radio__button required page3" name="general-causality-orientations-survey_2_options" value="b" meta-options="a. What if I can't live up to the new responsibility?|b. Will I make more at this position?|c. I wonder if the new work will be interesting. (A)" meta-text="You have been offered a new position in a company where you have worked for some time. The first question that is likely to come to mind is:">
<span class="mdl-radio__label">b. 这个职位我会赚得更多吗？</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_2_2">
<input type="radio" id="option-general-causality-orientations-survey_2_2" class="mdl-radio__button required page3" name="general-causality-orientations-survey_2_options" value="c" meta-options="a. What if I can't live up to the new responsibility?|b. Will I make more at this position?|c. I wonder if the new work will be interesting. (A)" meta-text="You have been offered a new position in a company where you have worked for some time. The first question that is likely to come to mind is:">
<span class="mdl-radio__label">c. 我想知道新工作是否有趣。(A)</span>
</label><br><br><br><br>
<p id="general-causality-orientations-survey_3_options" class="likert">你有一个学龄的女儿。在家长会上，老师告诉你你的女儿学习成绩很差，且似乎对学习不感兴趣。你可能会：

</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_3_0">
<input type="radio" id="option-general-causality-orientations-survey_3_0" class="mdl-radio__button required page3" name="general-causality-orientations-survey_3_options" value="a" meta-options="a. 与你的女儿讨论以进一步了解问题所在。|b. 批评她，希望她可以做得更好。|c. 确保她完成作业，因为她应该更加努力学习。" meta-text="You have a school-age daughter. On parents' night the teacher tells you that your daughter is doing poorly and doesn't seem involved in the work. You are likely to:

">
<span class="mdl-radio__label">a. 与你的女儿讨论以进一步了解问题所在。</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_3_1">
<input type="radio" id="option-general-causality-orientations-survey_3_1" class="mdl-radio__button required page3" name="general-causality-orientations-survey_3_options" value="b" meta-options="a. 与你的女儿讨论以进一步了解问题所在。|b. 批评她，希望她可以做得更好。|c. 确保她完成作业，因为她应该更加努力学习。" meta-text="You have a school-age daughter. On parents' night the teacher tells you that your daughter is doing poorly and doesn't seem involved in the work. You are likely to:

">
<span class="mdl-radio__label">b. 批评她，希望她可以做得更好。</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_3_2">
<input type="radio" id="option-general-causality-orientations-survey_3_2" class="mdl-radio__button required page3" name="general-causality-orientations-survey_3_options" value="c" meta-options="a. 与你的女儿讨论以进一步了解问题所在。|b. 批评她，希望她可以做得更好。|c. 确保她完成作业，因为她应该更加努力学习。" meta-text="You have a school-age daughter. On parents' night the teacher tells you that your daughter is doing poorly and doesn't seem involved in the work. You are likely to:

">
<span class="mdl-radio__label">c. 确保她完成作业，因为她应该更加努力学习。</span>
</label><br><br><br><br>
<p id="general-causality-orientations-survey_4_options" class="likert">You had a job interview several weeks ago. In the mail you received a form letter which states that the position has been filled. It is likely that you might think:
</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_4_0">
<input type="radio" id="option-general-causality-orientations-survey_4_0" class="mdl-radio__button required page3" name="general-causality-orientations-survey_4_options" value="a" meta-options="a. It's not what you know but who you know.|b. I'm probably not good enough for the job.|c. Somehow they didn't see my qualifications as matching their needs." meta-text="You had a job interview several weeks ago. In the mail you received a form letter which states that the position has been filled. It is likely that you might think:
">
<span class="mdl-radio__label">a. It's not what you know but who you know.</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_4_1">
<input type="radio" id="option-general-causality-orientations-survey_4_1" class="mdl-radio__button required page3" name="general-causality-orientations-survey_4_options" value="b" meta-options="a. It's not what you know but who you know.|b. I'm probably not good enough for the job.|c. Somehow they didn't see my qualifications as matching their needs." meta-text="You had a job interview several weeks ago. In the mail you received a form letter which states that the position has been filled. It is likely that you might think:
">
<span class="mdl-radio__label">b. I'm probably not good enough for the job.</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_4_2">
<input type="radio" id="option-general-causality-orientations-survey_4_2" class="mdl-radio__button required page3" name="general-causality-orientations-survey_4_options" value="c" meta-options="a. It's not what you know but who you know.|b. I'm probably not good enough for the job.|c. Somehow they didn't see my qualifications as matching their needs." meta-text="You had a job interview several weeks ago. In the mail you received a form letter which states that the position has been filled. It is likely that you might think:
">
<span class="mdl-radio__label">c. Somehow they didn't see my qualifications as matching their needs.</span>
</label><br><br><br><br>
<p id="general-causality-orientations-survey_5_options" class="likert">You are a plant supervisor and have been charged with the task of allotting coffee breaks to three workers who cannot all break at once. You would likely handle this by:
</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_5_0">
<input type="radio" id="option-general-causality-orientations-survey_5_0" class="mdl-radio__button required page3" name="general-causality-orientations-survey_5_options" value="a" meta-options="a. Telling the three workers the situation and having them work with you on the schedule.|b. Simply assigning times that each can break to avoid any problems.|c. Find out from someone in authority what to do or do what was done in the past." meta-text="You are a plant supervisor and have been charged with the task of allotting coffee breaks to three workers who cannot all break at once. You would likely handle this by:
">
<span class="mdl-radio__label">a. Telling the three workers the situation and having them work with you on the schedule.</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_5_1">
<input type="radio" id="option-general-causality-orientations-survey_5_1" class="mdl-radio__button required page3" name="general-causality-orientations-survey_5_options" value="b" meta-options="a. Telling the three workers the situation and having them work with you on the schedule.|b. Simply assigning times that each can break to avoid any problems.|c. Find out from someone in authority what to do or do what was done in the past." meta-text="You are a plant supervisor and have been charged with the task of allotting coffee breaks to three workers who cannot all break at once. You would likely handle this by:
">
<span class="mdl-radio__label">b. Simply assigning times that each can break to avoid any problems.</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_5_2">
<input type="radio" id="option-general-causality-orientations-survey_5_2" class="mdl-radio__button required page3" name="general-causality-orientations-survey_5_options" value="c" meta-options="a. Telling the three workers the situation and having them work with you on the schedule.|b. Simply assigning times that each can break to avoid any problems.|c. Find out from someone in authority what to do or do what was done in the past." meta-text="You are a plant supervisor and have been charged with the task of allotting coffee breaks to three workers who cannot all break at once. You would likely handle this by:
">
<span class="mdl-radio__label">c. Find out from someone in authority what to do or do what was done in the past.</span>
</label><br><br><br><br>
<p id="general-causality-orientations-survey_6_options" class="likert">A close (same-sex) friend of yours has been moody lately, and a couple of times has become very angry with you over "nothing." You might:
</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_6_0">
<input type="radio" id="option-general-causality-orientations-survey_6_0" class="mdl-radio__button required page3" name="general-causality-orientations-survey_6_options" value="a" meta-options="a.Share your observations with him/her and try to find out what is going on for him/her.|b. Ignore it because there's not much you can do about it anyway.|c. Tell him/her that you're willing to spend time together if and only if he/she makes more effort to control him/herself." meta-text="A close (same-sex) friend of yours has been moody lately, and a couple of times has become very angry with you over 'nothing.' You might:
">
<span class="mdl-radio__label">a.Share your observations with him/her and try to find out what is going on for him/her.</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_6_1">
<input type="radio" id="option-general-causality-orientations-survey_6_1" class="mdl-radio__button required page3" name="general-causality-orientations-survey_6_options" value="b" meta-options="a.Share your observations with him/her and try to find out what is going on for him/her.|b. Ignore it because there's not much you can do about it anyway.|c. Tell him/her that you're willing to spend time together if and only if he/she makes more effort to control him/herself." meta-text="A close (same-sex) friend of yours has been moody lately, and a couple of times has become very angry with you over 'nothing.' You might:
">
<span class="mdl-radio__label">b. Ignore it because there's not much you can do about it anyway.</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_6_2">
<input type="radio" id="option-general-causality-orientations-survey_6_2" class="mdl-radio__button required page3" name="general-causality-orientations-survey_6_options" value="c" meta-options="a.Share your observations with him/her and try to find out what is going on for him/her.|b. Ignore it because there's not much you can do about it anyway.|c. Tell him/her that you're willing to spend time together if and only if he/she makes more effort to control him/herself." meta-text="A close (same-sex) friend of yours has been moody lately, and a couple of times has become very angry with you over 'nothing.' You might:
">
<span class="mdl-radio__label">c. Tell him/her that you're willing to spend time together if and only if he/she makes more effort to control him/herself.</span>
</label><br><br><br><br>
<p id="general-causality-orientations-survey_7_options" class="likert">You have just received the results of a test you took, and you discovered that you did very poorly. Your initial reaction is likely to be:

</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_7_0">
<input type="radio" id="option-general-causality-orientations-survey_7_0" class="mdl-radio__button required page3" name="general-causality-orientations-survey_7_options" value="a" meta-options="a. 'I can't do anything right' and feel sad.|b. 'I wonder how it is I did so poorly' and feel disappointed.|c. 'That stupid test doesn't show anything' and feel angry." meta-text="You have just received the results of a test you took, and you discovered that you did very poorly. Your initial reaction is likely to be:

">
<span class="mdl-radio__label">a. "I can't do anything right" and feel sad.</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_7_1">
<input type="radio" id="option-general-causality-orientations-survey_7_1" class="mdl-radio__button required page3" name="general-causality-orientations-survey_7_options" value="b" meta-options="a. 'I can't do anything right' and feel sad.|b. 'I wonder how it is I did so poorly' and feel disappointed.|c. 'That stupid test doesn't show anything' and feel angry." meta-text="You have just received the results of a test you took, and you discovered that you did very poorly. Your initial reaction is likely to be:

">
<span class="mdl-radio__label">b. "I wonder how it is I did so poorly" and feel disappointed.</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_7_2">
<input type="radio" id="option-general-causality-orientations-survey_7_2" class="mdl-radio__button required page3" name="general-causality-orientations-survey_7_options" value="c" meta-options="a. 'I can't do anything right' and feel sad.|b. 'I wonder how it is I did so poorly' and feel disappointed.|c. 'That stupid test doesn't show anything' and feel angry." meta-text="You have just received the results of a test you took, and you discovered that you did very poorly. Your initial reaction is likely to be:

">
<span class="mdl-radio__label">c. "That stupid test doesn't show anything" and feel angry.</span>
</label><br><br><br><br></div>
<div class="step">
<p id="general-causality-orientations-survey_8_options" class="likert">You have been invited to a large party where you know very few people. As you look forward to the evening, you would likely expect that:
</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_8_0">
<input type="radio" id="option-general-causality-orientations-survey_8_0" class="mdl-radio__button required page4" name="general-causality-orientations-survey_8_options" value="a" meta-options="a. You'll try to fit in with whatever is happening in order to have a good time and not look bad.|b. You'll find some people with whom you can relate.|c. You'll probably feel somewhat isolated and unnoticed." meta-text="You have been invited to a large party where you know very few people. As you look forward to the evening, you would likely expect that:
">
<span class="mdl-radio__label">a. You'll try to fit in with whatever is happening in order to have a good time and not look bad.</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_8_1">
<input type="radio" id="option-general-causality-orientations-survey_8_1" class="mdl-radio__button required page4" name="general-causality-orientations-survey_8_options" value="b" meta-options="a. You'll try to fit in with whatever is happening in order to have a good time and not look bad.|b. You'll find some people with whom you can relate.|c. You'll probably feel somewhat isolated and unnoticed." meta-text="You have been invited to a large party where you know very few people. As you look forward to the evening, you would likely expect that:
">
<span class="mdl-radio__label">b. You'll find some people with whom you can relate.</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_8_2">
<input type="radio" id="option-general-causality-orientations-survey_8_2" class="mdl-radio__button required page4" name="general-causality-orientations-survey_8_options" value="c" meta-options="a. You'll try to fit in with whatever is happening in order to have a good time and not look bad.|b. You'll find some people with whom you can relate.|c. You'll probably feel somewhat isolated and unnoticed." meta-text="You have been invited to a large party where you know very few people. As you look forward to the evening, you would likely expect that:
">
<span class="mdl-radio__label">c. You'll probably feel somewhat isolated and unnoticed.</span>
</label><br><br><br><br>
<p id="general-causality-orientations-survey_9_options" class="likert">You are asked to plan a picnic for yourself and your fellow employees. Your style for approaching this project could most likely be characterized as:
</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_9_0">
<input type="radio" id="option-general-causality-orientations-survey_9_0" class="mdl-radio__button required page4" name="general-causality-orientations-survey_9_options" value="a" meta-options="a. Take charge: that is you would make most of the major decisions yourself.|b. Follow precedent: you're not really up to the task so you'd do it the way it's been done before.|c. Seek participation: get inputs from others who want to make them before you make the final plans." meta-text="You are asked to plan a picnic for yourself and your fellow employees. Your style for approaching this project could most likely be characterized as:
">
<span class="mdl-radio__label">a. Take charge: that is you would make most of the major decisions yourself.</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_9_1">
<input type="radio" id="option-general-causality-orientations-survey_9_1" class="mdl-radio__button required page4" name="general-causality-orientations-survey_9_options" value="b" meta-options="a. Take charge: that is you would make most of the major decisions yourself.|b. Follow precedent: you're not really up to the task so you'd do it the way it's been done before.|c. Seek participation: get inputs from others who want to make them before you make the final plans." meta-text="You are asked to plan a picnic for yourself and your fellow employees. Your style for approaching this project could most likely be characterized as:
">
<span class="mdl-radio__label">b. Follow precedent: you're not really up to the task so you'd do it the way it's been done before.</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_9_2">
<input type="radio" id="option-general-causality-orientations-survey_9_2" class="mdl-radio__button required page4" name="general-causality-orientations-survey_9_options" value="c" meta-options="a. Take charge: that is you would make most of the major decisions yourself.|b. Follow precedent: you're not really up to the task so you'd do it the way it's been done before.|c. Seek participation: get inputs from others who want to make them before you make the final plans." meta-text="You are asked to plan a picnic for yourself and your fellow employees. Your style for approaching this project could most likely be characterized as:
">
<span class="mdl-radio__label">c. Seek participation: get inputs from others who want to make them before you make the final plans.</span>
</label><br><br><br><br>
<p id="general-causality-orientations-survey_10_options" class="likert">Recently a position opened up at your place of work that could have meant a promotion for you. However, a person you work with was offered the job rather than you. In evaluating the situation, you're likely to think:
</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_10_0">
<input type="radio" id="option-general-causality-orientations-survey_10_0" class="mdl-radio__button required page4" name="general-causality-orientations-survey_10_options" value="a" meta-options="a. You didn't really expect the job; you frequently get passed over.|b. The other person probably 'did the right things' politically to get the job.|c. You would probably take a look at factors in your own performance that led you to be passed over." meta-text="Recently a position opened up at your place of work that could have meant a promotion for you. However, a person you work with was offered the job rather than you. In evaluating the situation, you're likely to think:
">
<span class="mdl-radio__label">a. You didn't really expect the job; you frequently get passed over.</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_10_1">
<input type="radio" id="option-general-causality-orientations-survey_10_1" class="mdl-radio__button required page4" name="general-causality-orientations-survey_10_options" value="b" meta-options="a. You didn't really expect the job; you frequently get passed over.|b. The other person probably 'did the right things' politically to get the job.|c. You would probably take a look at factors in your own performance that led you to be passed over." meta-text="Recently a position opened up at your place of work that could have meant a promotion for you. However, a person you work with was offered the job rather than you. In evaluating the situation, you're likely to think:
">
<span class="mdl-radio__label">b. The other person probably "did the right things" politically to get the job.</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_10_2">
<input type="radio" id="option-general-causality-orientations-survey_10_2" class="mdl-radio__button required page4" name="general-causality-orientations-survey_10_options" value="c" meta-options="a. You didn't really expect the job; you frequently get passed over.|b. The other person probably 'did the right things' politically to get the job.|c. You would probably take a look at factors in your own performance that led you to be passed over." meta-text="Recently a position opened up at your place of work that could have meant a promotion for you. However, a person you work with was offered the job rather than you. In evaluating the situation, you're likely to think:
">
<span class="mdl-radio__label">c. You would probably take a look at factors in your own performance that led you to be passed over.</span>
</label><br><br><br><br>
<p id="general-causality-orientations-survey_11_options" class="likert">You are embarking on a new career. The most important consideration is likely to be:
</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_11_0">
<input type="radio" id="option-general-causality-orientations-survey_11_0" class="mdl-radio__button required page4" name="general-causality-orientations-survey_11_options" value="a" meta-options="a. Whether you can do the work without getting in over your head.|b. How interested you are in that kind of work.|c. Whether there are good possibilities for advancement." meta-text="You are embarking on a new career. The most important consideration is likely to be:
">
<span class="mdl-radio__label">a. Whether you can do the work without getting in over your head.</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_11_1">
<input type="radio" id="option-general-causality-orientations-survey_11_1" class="mdl-radio__button required page4" name="general-causality-orientations-survey_11_options" value="b" meta-options="a. Whether you can do the work without getting in over your head.|b. How interested you are in that kind of work.|c. Whether there are good possibilities for advancement." meta-text="You are embarking on a new career. The most important consideration is likely to be:
">
<span class="mdl-radio__label">b. How interested you are in that kind of work.</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_11_2">
<input type="radio" id="option-general-causality-orientations-survey_11_2" class="mdl-radio__button required page4" name="general-causality-orientations-survey_11_options" value="c" meta-options="a. Whether you can do the work without getting in over your head.|b. How interested you are in that kind of work.|c. Whether there are good possibilities for advancement." meta-text="You are embarking on a new career. The most important consideration is likely to be:
">
<span class="mdl-radio__label">c. Whether there are good possibilities for advancement.</span>
</label><br><br><br><br>
<p id="general-causality-orientations-survey_12_options" class="likert">A woman who works for you has generally done an adequate job. However, for the past two weeks her work has not been up to par and she appears to be less actively interested in her work. Your reaction is likely to be:
</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_12_0">
<input type="radio" id="option-general-causality-orientations-survey_12_0" class="mdl-radio__button required page4" name="general-causality-orientations-survey_12_options" value="a" meta-options="a. Tell her that her work is below what is expected and that she should start working harder.|b. Ask her about the problem and let her know you are available to help work it out.|c. It's hard to know what to do to get her straightened out." meta-text="A woman who works for you has generally done an adequate job. However, for the past two weeks her work has not been up to par and she appears to be less actively interested in her work. Your reaction is likely to be:
">
<span class="mdl-radio__label">a. Tell her that her work is below what is expected and that she should start working harder.</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_12_1">
<input type="radio" id="option-general-causality-orientations-survey_12_1" class="mdl-radio__button required page4" name="general-causality-orientations-survey_12_options" value="b" meta-options="a. Tell her that her work is below what is expected and that she should start working harder.|b. Ask her about the problem and let her know you are available to help work it out.|c. It's hard to know what to do to get her straightened out." meta-text="A woman who works for you has generally done an adequate job. However, for the past two weeks her work has not been up to par and she appears to be less actively interested in her work. Your reaction is likely to be:
">
<span class="mdl-radio__label">b. Ask her about the problem and let her know you are available to help work it out.</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_12_2">
<input type="radio" id="option-general-causality-orientations-survey_12_2" class="mdl-radio__button required page4" name="general-causality-orientations-survey_12_options" value="c" meta-options="a. Tell her that her work is below what is expected and that she should start working harder.|b. Ask her about the problem and let her know you are available to help work it out.|c. It's hard to know what to do to get her straightened out." meta-text="A woman who works for you has generally done an adequate job. However, for the past two weeks her work has not been up to par and she appears to be less actively interested in her work. Your reaction is likely to be:
">
<span class="mdl-radio__label">c. It's hard to know what to do to get her straightened out.</span>
</label><br><br><br><br>
<p id="general-causality-orientations-survey_13_options" class="likert">Your company has promoted you to a position in a city far from your present location. As you think about the move you would probably:
</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_13_0">
<input type="radio" id="option-general-causality-orientations-survey_13_0" class="mdl-radio__button required page4" name="general-causality-orientations-survey_13_options" value="a" meta-options="a. Feel interested in the new challenge and a little nervous at the same time.|b. Feel excited about the higher status and salary that is involved.|c. Feel stressed and anxious about the upcoming changes." meta-text="Your company has promoted you to a position in a city far from your present location. As you think about the move you would probably:
">
<span class="mdl-radio__label">a. Feel interested in the new challenge and a little nervous at the same time.</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_13_1">
<input type="radio" id="option-general-causality-orientations-survey_13_1" class="mdl-radio__button required page4" name="general-causality-orientations-survey_13_options" value="b" meta-options="a. Feel interested in the new challenge and a little nervous at the same time.|b. Feel excited about the higher status and salary that is involved.|c. Feel stressed and anxious about the upcoming changes." meta-text="Your company has promoted you to a position in a city far from your present location. As you think about the move you would probably:
">
<span class="mdl-radio__label">b. Feel excited about the higher status and salary that is involved.</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-general-causality-orientations-survey_13_2">
<input type="radio" id="option-general-causality-orientations-survey_13_2" class="mdl-radio__button required page4" name="general-causality-orientations-survey_13_options" value="c" meta-options="a. Feel interested in the new challenge and a little nervous at the same time.|b. Feel excited about the higher status and salary that is involved.|c. Feel stressed and anxious about the upcoming changes." meta-text="Your company has promoted you to a position in a city far from your present location. As you think about the move you would probably:
">
<span class="mdl-radio__label">c. Feel stressed and anxious about the upcoming changes.</span>
</label><br><br><br><br></div>
<div class="step">
<h3>恭喜您完成了此次调查！请按<strong>完成</strong>继续。</h3><br><br><br><br></div>

<div class="navigation">
    <ul class="clearfix">
        <li><button type="button" 
                    name="backward" 
                    class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent backward">上一步</button></li>
	<li><button type="button" 
                    name="forward" 
                    class="forward mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">下一步</button></li>
        <li><button type="submit" 
                    name="process" 
                    class="submit mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">完成</button></li>
    </ul>
</div>

<div class="pad">
    <div id="progressbar"></div>
</div>
</form>
</div>

<script>
$( document ).ready(function() {

    expfactory_finished = false;

    // Basic wizard with progress bar
    $( "#progressbar" ).progressbar();
    $( "#questions" ).wizard({
        stepsWrapper: "#wrapped",
	submit: ".submit",
	beforeForward: function( event, state ) {

            // Function to add message that answer is required
            function is_required(elements){
                var missing = false;
                elements.each(function(index,element){
                    var pid = "#" + $(element).attr("name")
                    $(pid).css("color","red")
                    missing = true;                   
                });

                if (missing == true){
                   alert("请回答所有红色标记的必答问题。");
                }
            }

             if ( state.stepIndex === 3 ) {
 if (($.unique($(`.page3.required[type=number],.page3.required:text`).map(function(){return $(this).attr(`meta-text`)})).map(function() {return $(`[meta-text*="` + this + `"].required[type=number], [meta-text*="` + this + `"].required:text`).filter(function() { return $(this).val();}).length > 0}).get().indexOf(false) != -1) || ($.unique($(`.page3.required:not([type=number]):not(:text)`).map(function(){return $(this).attr(`meta-text`)})).map(function() {return $(`[meta-text*="` + this + `"].required:checked`).length > 0}).get().indexOf(false) != -1)){
is_required($(`.page3.required:not(checked)`));
return false;
}} else if ( state.stepIndex === 4 ) {
 if (($.unique($(`.page4.required[type=number],.page4.required:text`).map(function(){return $(this).attr(`meta-text`)})).map(function() {return $(`[meta-text*="` + this + `"].required[type=number], [meta-text*="` + this + `"].required:text`).filter(function() { return $(this).val();}).length > 0}).get().indexOf(false) != -1) || ($.unique($(`.page4.required:not([type=number]):not(:text)`).map(function(){return $(this).attr(`meta-text`)})).map(function() {return $(`[meta-text*="` + this + `"].required:checked`).length > 0}).get().indexOf(false) != -1)){
is_required($(`.page4.required:not(checked)`));
return false;
 } else {
expfactory_finished=true;
}}

	    return !!$( this ).wizard( "form" ).valid();
        },
	afterSelect: function( event, state ) {
	    $( "#progressbar" ).progressbar( "value", state.percentComplete );
            if (expfactory_finished == true){
                $(".submit").enable();
            }
        }

    // Form submission
    }).wizard( "form" ).submit(function( event ) {

        event.preventDefault();
        
        var $inputs = $("input:checked");
        var $text = $("input:text")
        var $number = $("input[type = number]")
        var $elements = $inputs.add($text).add($number)
        
        // Prepare data results
        var results = []
        $elements.each(function(index, element) {
            var result = {}

            if ($.inArray( $(element).attr("name"), [ "forward", "backward", "process"] ) == -1) {
                result.name = $(element).attr("name");
                if ($(element).attr("value") == undefined) {
                    result.value = $(element).val();
                } else {
                    result.value = $(element).attr("value");
                }
                result.options = $(element).attr("meta-options");
                result.text = $(element).attr("meta-text");
                results.push(result);
             }
        })

        
        $.ajax({

                type: 'POST',
                url: '/save',
                data: {'data': results},

                success: function() {
                    console.log('success');
                    document.location = '/next'
                 },

                 // Endpoint not running, local save
                 error: function(err) {

                     if (err.status == 200) {
                        document.location = '/next'
                     }        
        
                     console.log("Error with POST" + err.status + ", downloading to local file.")
                     // Save data to browser

                     var data = "text/json;charset=utf-8," + JSON.stringify(results);
                     var a = document.createElement('a');
                     a.title = "Download"
                     a.id = "download"
                     a.type = "button"
                     a.download = 'general-causality-orientations-survey_result.json';
                     a.href = 'data:' + data;
                     $(".submit").html("Download")
                     $(".submit").click(function(){
                         $("body").append(a)
                         a.click()
                     })

                  }
         });

     // Validation
     }).validate({
	errorPlacement: function( error, element ) {
	    if ( element.is( ":radio" ) || element.is( ":checkbox" ) ) {
		error.insertBefore( element.next() );
            } else {
	        error.insertAfter( element );
	 }
      }
  });
});
</script>
</body>
</html>

# Image Monitoring 数据保存机制

## 保存方式
- **本地保存**: 实验完成后自动下载CSV文件
- **文件名**: `image-monitoring_results.csv`
- **格式**: CSV (逗号分隔值)，包含所有试验的详细数据
- **框架**: 使用jsPsych心理学实验框架

## 数据结构
每个试验记录包含以下主要字段：

| 字段名 | 类型 | 描述 |
|--------|------|------|
| trial_index | number | 试验索引 |
| trial_type | string | 试验类型 (poldrack-categorize, poldrack-single-stim等) |
| rt | number | 反应时间 (毫秒) |
| key_press | number | 按键编码 (32=空格键, -1=无按键) |
| correct | boolean | 是否回答正确 |
| stim_color | string | 刺激颜色 (red, green, blue) |
| trial_id | string | 试验标识 (stim, instruction, practice_intro等) |
| exp_stage | string | 实验阶段 (practice, test) |
| timing_response | number | 允许反应时间 |
| stimulus | string | 刺激的HTML内容 |
| internal_node_id | string | jsPsych内部节点ID |
| time_elapsed | number | 从实验开始的累计时间 |

## 实验设计
### 任务描述
图像监控任务要求被试监控颜色形状的连续出现：
- **刺激类型**: 红色方形、绿色方形、蓝色方形
- **任务要求**: 当同一颜色形状连续出现4次时，按空格键
- **反应重置**: 按键后计数重置，无论是否正确

### 实验流程
1. **指导说明**: 任务说明和操作指导
2. **练习阶段**: 带反馈的练习试验
   - 提供"正确！"或"错误"反馈
   - 帮助被试熟悉任务
3. **测试阶段**: 正式测试，分为多个块
   - 无反馈
   - 包含注意力检查试验
4. **任务后问卷**: 收集被试的主观体验

## 保存触发机制
1. **试验结束**: 每个试验完成后触发 `on_trial_finish`
2. **数据添加**: 通过 `addID()` 和 `addDataToLastTrial()` 添加标识信息
3. **实验完成**: 触发 `on_finish` 回调
4. **数据序列化**: 调用 `jsPsych.data.dataAsJSON()` 获取JSON格式数据
5. **服务器保存**: 尝试POST到 `/save` 端点
6. **本地保存**: 服务器不可用时，调用 `jsPsych.data.localSave()` 保存CSV

## 认知评估指标
### 注意力监控能力
- **持续注意**: 长时间保持注意力的能力
- **选择性注意**: 对特定刺激的注意选择
- **注意力转换**: 在不同刺激间转换注意力

### 工作记忆负荷
- **计数任务**: 需要记住每种颜色出现的次数
- **更新机制**: 持续更新工作记忆中的计数信息
- **干扰抑制**: 抵抗无关刺激的干扰

### 反应抑制控制
- **Go/No-Go**: 适时响应vs抑制响应
- **冲动控制**: 避免过早或错误响应
- **反应准确性**: 准确检测目标序列

## 数据分析维度
1. **准确率分析**: 正确检测4连续刺激的比例
2. **反应时间**: 检测到目标后的反应速度
3. **虚警率**: 错误响应的频率
4. **遗漏率**: 漏检目标序列的频率
5. **学习效应**: 练习阶段vs测试阶段的表现变化
6. **注意力衰减**: 实验过程中注意力的变化模式

## 临床应用价值
该任务常用于评估：
- **ADHD**: 注意缺陷多动障碍的注意力问题
- **认知老化**: 年龄相关的注意力衰退
- **神经损伤**: 脑损伤后的注意力功能
- **药物效应**: 药物对注意力功能的影响
- **训练效果**: 注意力训练的有效性评估
# 人际支持评估列表调查 - 数据保存机制

## 概述

这是一个基于实验工厂(Experiment Factory)框架的心理调查问卷，使用"survey"模板，用于评估个人感知的社会支持水平。该问卷基于Cohen等人(1985)开发的12项测量量表。

## 数据保存机制

### 保存流程

1. **服务器端保存（首选）**：
   - 当用户点击"完成"按钮提交问卷时，系统首先尝试通过AJAX POST请求将数据发送到 `/save` 端点
   - 请求成功后跳转到 `/next` 页面

2. **本地保存（备用）**：
   - 如果服务器端点不可用或返回错误，系统自动启用本地保存机制
   - 生成一个可下载的JSON文件：`interpersonal-support-survey_result.json`
   - 提交按钮变更为"Download"，用户点击即可下载数据文件

### 数据格式

保存的数据为JSON格式，包含以下字段：

```json
[
  {
    "name": "问题字段名",
    "value": "用户选择的值",
    "options": "选项描述",
    "text": "问题文本内容"
  }
]
```

### 评估内容

人际支持评估列表测量四个维度的社会支持：

1. **情感支持**：情感关怀和理解
2. **工具支持**：实际帮助和资源提供
3. **信息支持**：建议和指导
4. **评价支持**：肯定和鼓励

### 问卷特点

- **题目数量**：12个项目
- **答题时间**：约2分钟
- **评分方式**：多点量表评分系统
- **语言**：中文版本

### 技术实现

- **前端技术**：jQuery + jQuery Wizard插件
- **表单验证**：jQuery Validate
- **UI框架**：Material Design Lite (MDL)
- **数据处理**：JavaScript AJAX请求与错误处理机制

### 理论基础

基于Cohen, Mermelstein, Kamarck, & Hoberman (1985)的社会支持功能组件理论，该量表广泛应用于：
- 心理健康研究
- 压力应对评估
- 社会支持干预效果评估
- 人际关系质量测量

### 浏览器控制台输出

成功提交时在浏览器控制台输出 "success"。
错误时输出错误状态信息和"downloading to local file"提示。

## 使用说明

1. 用户根据实际情况回答12个关于人际支持的问题
2. 点击"完成"按钮提交答案
3. 数据自动保存（服务器端或本地下载）
4. 如需本地保存，点击"Download"按钮获取JSON文件

## 注意事项

- 确保浏览器允许文件下载（本地保存模式时）
- JSON文件包含完整的问卷响应数据
- 数据格式符合实验工厂标准规范
- 可用于后续的社会支持水平分析和心理健康评估
# Stroop 任务数据保存说明

## 任务概述
Stroop任务是一个经典的认知冲突测试，用于评估注意控制、执行功能和认知灵活性。被试需要根据颜色词汇的呈现颜色进行反应，而非字面意义。

## 数据保存机制

### 技术架构
- **实验框架**: jsPsych 实验心理学框架
- **数据收集**: poldrack-categorize 插件，支持分类任务和反应时记录
- **性能评估**: 自动计算准确率、反应时间和数据质量指标

### 任务设计

#### 刺激条件
1. **一致条件 (Congruent)**
   - 词汇含义与颜色一致：红色的"红"、蓝色的"蓝"、绿色的"绿"
   - 3个刺激，重复呈现以增加试验数量
   
2. **不一致条件 (Incongruent)**  
   - 词汇含义与颜色不一致：红色的"蓝"、蓝色的"红"等
   - 6个刺激，涵盖所有颜色-词汇不匹配组合

#### 反应键设置
- **红色**: R键 (键码: 82)
- **蓝色**: B键 (键码: 66)
- **绿色**: G键 (键码: 71)

### 保存的数据字段

#### 试验基础信息
```javascript
{
    trial_id: "stim",              // 试验类型标识
    condition: "congruent|incongruent", // 刺激条件
    stim_color: "red|blue|green",  // 刺激颜色
    stim_word: "red|blue|green",   // 词汇内容
    correct_response: 82|66|71,    // 正确反应键
    exp_stage: "practice|test"     // 实验阶段
}
```

#### 反应数据
- **key_press**: 被试按键反应 (键码)
- **rt**: 反应时间 (毫秒)
- **correct**: 反应正确性 (true/false)
- **possible_responses**: 可接受的反应键列表

#### 时间控制
- **timing_response**: 最大反应时间 1500ms
- **timing_feedback_duration**: 反馈呈现时间 500ms
- **timing_post_trial**: 试验间间隔 250ms

### 实验流程

#### 阶段设计
1. **指导说明**: 任务规则和反应键说明
2. **练习阶段**: 24个练习试验，提供反馈
3. **正式测试**: 96个测试试验，无反馈
4. **后测问卷**: 主观体验收集

#### 试验分布
- 练习阶段: 24试验 (12个基础刺激 × 2轮重复)
- 测试阶段: 96试验 (12个基础刺激 × 8轮重复)
- 刺激随机化: `jsPsych.randomization.repeat()` 确保随机呈现

### 数据分析指标

#### 性能评估函数 (assessPerformance)
```javascript
// 关键计算指标
var missed_count = 0;           // 未反应次数
var rt_array = [];              // 反应时间数组
var choice_counts = {};         // 各按键使用次数
var avg_rt = math.median(rt_array); // 中位反应时间
var missed_percent = missed_count/trial_count; // 遗漏率
```

#### 数据质量评估
- **遗漏率**: < 40% 为可接受
- **最低反应时间**: > 200ms 避免预期反应
- **反应分布**: 单一按键使用率 < 85% 避免反应偏向
- **综合评分**: `credit_var` 综合质量指标

### Stroop效应分析

#### 经典指标
1. **Stroop干扰效应**: 不一致条件RT - 一致条件RT
2. **准确率差异**: 不一致条件准确率 - 一致条件准确率
3. **干扰比率**: (不一致RT - 一致RT) / 一致RT

#### 认知功能评估
- **注意控制**: 抑制自动化阅读反应的能力
- **执行功能**: 冲突监测和解决能力
- **认知灵活性**: 在不同任务规则间切换
- **处理速度**: 基础认知处理效率

### 中文版特点
- 使用中文颜色词汇：红、蓝、绿
- 文化适应性设计，确保中文用户理解
- 保持经典Stroop效应的核心机制

### 数据导出格式
jsPsych自动保存为JSON格式，包含：
- 每个试验的完整反应数据
- 条件信息和时间戳
- 性能评估结果
- 可通过 `jsPsych.data.get()` 导出

## 临床应用价值
Stroop任务广泛应用于：
- **注意缺陷障碍**: ADHD等注意控制评估
- **执行功能评估**: 认知控制能力测试
- **老化研究**: 年龄相关的认知变化
- **神经心理评估**: 前额叶功能评价

## 注意事项
- 确保被试理解颜色-按键对应关系
- 注意区分一致和不一致条件的表现差异
- 中位数反应时间比平均值更稳健，避免极值影响
# 冲动性与冒险性调查 - 数据保存机制

## 概述

这是一个基于实验工厂(Experiment Factory)框架的心理调查问卷，使用"survey"模板，评估用户的冲动性与冒险性倾向。

## 数据保存机制

### 保存流程

1. **服务器端保存（首选）**：
   - 当用户点击"完成"按钮提交问卷时，系统首先尝试通过AJAX POST请求将数据发送到 `/save` 端点
   - 请求成功后跳转到 `/next` 页面

2. **本地保存（备用）**：
   - 如果服务器端点不可用或返回错误，系统自动启用本地保存机制
   - 生成一个可下载的JSON文件：`impulsive-venture-survey_result.json`
   - 提交按钮变更为"Download"，用户点击即可下载数据文件

### 数据格式

保存的数据为JSON格式，包含以下字段：

```json
[
  {
    "name": "问题字段名",
    "value": "用户选择的值",
    "options": "选项描述",
    "text": "问题文本内容"
  }
]
```

### 数据内容

调查问卷包含以下维度的问题：
- 风险偏好（如跳伞、滑水等高风险活动的偏好）
- 购买行为的冲动性
- 决策时的思考习惯
- 品牌选择的冒险性

每个问题为二选一的是/否选择题，值为1或2。

### 技术实现

- **前端技术**：jQuery + jQuery Wizard插件
- **表单验证**：jQuery Validate
- **UI框架**：Material Design Lite (MDL)
- **数据处理**：JavaScript AJAX请求与错误处理机制

### 浏览器控制台输出

成功提交时在浏览器控制台输出 "success"。
错误时输出错误状态信息和"downloading to local file"提示。

## 使用说明

1. 用户完成问卷填写
2. 点击"完成"按钮提交
3. 数据自动保存（服务器端或本地下载）
4. 如需本地保存，点击"Download"按钮获取JSON文件

## 注意事项

- 确保浏览器允许文件下载（本地保存模式时）
- JSON文件包含完整的问卷响应数据
- 数据格式符合实验工厂标准规范
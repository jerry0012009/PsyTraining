# Ravens 矩阵推理任务数据保存说明

## 任务概述
Ravens矩阵推理任务是经典的非言语智力测试，基于Raven渐进矩阵测验设计，用于评估抽象推理能力、模式识别和流体智力。

## 数据保存机制

### 技术架构
- **实验框架**: jsPsych 实验心理学框架
- **问题呈现**: poldrack-survey-multi-choice 插件
- **图像资源**: 18个矩阵问题，每题含上部矩阵和8个选项
- **计分系统**: 预设正确答案评分机制

### 任务设计

#### 题目结构
- **总题数**: 18个矩阵推理问题
- **选项数**: 每题8个选项 (A, B, C, D, E, F, G, H)
- **图像格式**: JPG格式，分为上部矩阵(top_X.jpg)和选项区(bottom_X.jpg)
- **练习题**: 2个带反馈的练习题

#### 正确答案分布
```javascript
// 预设答案键 (1表示正确答案)
题目1: B, 题目2: E, 题目3: G, 题目4: B, 题目5: C,
题目6: B, 题目7: E, 题目8: B, 题目9: B, 题目10: E,
题目11: A, 题目12: E, 题目13: A, 题目14: C, 题目15: B,
题目16: E, 题目17: F, 题目18: D
```

### 保存的数据字段

#### 问题基础信息
```javascript
{
    exp_id: "ravens",              // 实验标识符
    trial_type: "poldrack-survey-multi-choice", // 题目类型
    exp_stage: "practice|test",    // 实验阶段
    trial_id: "feedback"           // 试验标识
}
```

#### 反应数据
- **response**: 被试选择的答案 (A-H)
- **rt**: 反应时间 (毫秒)
- **score_response**: 答案正确性 (1=正确, 0=错误)
- **page_index**: 当前题目索引
- **question_order**: 题目呈现顺序

#### 计分数据结构
每题的计分键值对：
```javascript
scale_qX = {
    "A": 0, "B": 0, "C": 0, "D": 0,
    "E": 1, "F": 0, "G": 0, "H": 0  // 示例：E为正确答案
}
```

### 实验流程设计

#### 阶段结构
1. **指导说明**: 矩阵推理规则和示例演示
2. **练习阶段**: 2个练习题，提供正确/错误反馈
3. **正式测试**: 18个测试题，无反馈
4. **完成确认**: 任务完成提示

#### 练习机制
```javascript
// 练习反馈循环
loop_function: function(data) {
    if (score_response != 1) {
        feedback_text = '答案不正确。请再试一次。';
        return true;  // 重复练习
    } else {
        feedback_text = '答案正确。继续。';
        return false; // 进入下一阶段
    }
}
```

### 图像资源管理

#### 文件组织
- **图像目录**: `images/` 包含所有矩阵图像
- **练习图像**: `images/practice/` 练习题和示例
- **测试图像**: `images/top_X.jpg` 和 `images/bottom_X.jpg`

#### 动态图像加载
```javascript
// 自动生成图像HTML
var prefix = '<div><img src = "';
var postfix = '"</img></div>';
// 组合生成: 上部矩阵 + 选项区域
page.push(prefix + path + top_img[i] + postfix + 
          prefix + path + bottom_img[i] + postfix);
```

### 认知能力评估指标

#### 流体智力测量
1. **模式识别**: 识别图形规律的能力
2. **抽象推理**: 从具体图形抽象出规律
3. **归纳推理**: 从部分信息推导整体规律
4. **视觉-空间处理**: 空间关系和变换理解

#### 难度递增设计
- 题目1-6: 基础模式识别
- 题目7-12: 复杂关系推理  
- 题目13-18: 高阶抽象推理

### 数据分析指标

#### 基础统计
```javascript
// 总分计算
total_score = sum(score_response[1:18]);
// 正确率
accuracy_rate = total_score / 18;
// 平均反应时间
mean_rt = mean(rt[valid_responses]);
```

#### 认知指标
1. **推理准确性**: 总正确题数和正确率
2. **反应效率**: 正确反应的平均时间
3. **难度效应**: 不同难度题目的表现差异
4. **策略一致性**: 反应时间的稳定性

### 智力评估应用

#### IQ相关指标
- **原始分数**: 正确答案总数 (0-18)
- **标准化分数**: 根据常模转换的标准分
- **百分位排名**: 相对于参照群体的位置
- **能力等级**: 优秀/良好/中等/较低分类

#### 认知剖面分析
- **视觉推理**: 空间变换和模式识别
- **归纳能力**: 规律发现和概念形成
- **工作记忆**: 规律保持和应用能力
- **处理速度**: 推理过程的认知效率

### 质量控制机制

#### 练习阶段监控
- 最大尝试次数: 5次 (`practice_thresh = 5`)
- 超过阈值后强制进入下一阶段
- 确保被试充分理解任务要求

#### 数据质量指标
- **完成率**: 是否完成所有18题
- **反应时间合理性**: 避免过快或过慢反应
- **选项使用分布**: 检测随机反应模式

### 文化公平性设计

#### 非言语特点
- 纯图形材质，避免语言和文化偏差
- 抽象几何图形，减少文化特异性
- 逻辑推理为核心，降低经验依赖

#### 通用认知评估
- 跨文化适用的智力评估工具
- 教育背景影响相对较小
- 专注于基础认知能力测量

### 数据导出格式
jsPsych保存为JSON格式，包含：
- 每题的选择答案和正确性
- 详细的反应时间记录
- 总分和各题得分情况
- 可导出为标准心理测验报告

## 临床应用价值
Ravens矩阵广泛应用于：
- **智力评估**: 流体智力和推理能力评估
- **认知筛查**: 认知功能损伤检测
- **教育评价**: 学习能力和潜力评估  
- **职业选拔**: 岗位认知要求匹配
- **神经心理**: 大脑损伤对推理能力的影响

## 注意事项
- 确保被试充分理解矩阵推理的基本原则
- 强调仔细观察图形的规律和关系
- 注意时间压力对推理表现的影响
- 区分流体智力(推理)与晶体智力(知识)
# Theories of Willpower Survey - 数据保存机制

## 概述
意志力理论调查问卷，用于评估个体对意志力本质的信念和态度。问卷基于意志力资源理论与意志力非有限理论的对比，包含12个核心问题，采用6点李克特量表评分。

## 数据保存机制

### 数据收集
- **问卷类型**: 基于Web表单的心理学调查
- **框架**: jQuery Wizard插件 + Material Design UI + 表单验证
- **问题数量**: 12个意志力相关问题 + 指导说明页面
- **评分方式**: 6点李克特量表（非常同意到非常不同意）
- **数据来源**: survey.tsv文件定义问题结构和选项

### 数据保存流程
1. **表单数据收集**: 
   - 通过jQuery遍历所有选中的radio按钮
   - 提取每个回答的name、value、options、text属性
2. **服务器保存尝试**:
   - AJAX POST请求到 `/save` 端点
   - 数据格式: JSON数组
   - 成功后重定向到 `/next`
3. **本地备份保存**:
   - 服务器不可用时自动触发
   - 创建JSON格式的下载链接
   - 文件名: `theories-of-willpower-survey_result.json`
   - 通过浏览器下载功能保存到本地

### 数据内容结构
每个回答记录包含：
- **name**: 问题标识符（如"theories-of-willpower-survey_2_options"）
- **value**: 选择的数值（1-6，对应不同同意程度）
- **options**: 所有可选项的文本（"非常同意|比较同意|..."）
- **text**: 完整的问题文本

### 问卷内容概要
**维度1：脑力活动资源消耗**（6题）
- 艰苦脑力活动的资源消耗效应
- 精力恢复的必要性
- 连续脑力活动的可行性

**维度2：诱惑抵制能力**（6题）
- 抵制诱惑对后续抵制能力的影响
- 意志力的有限性vs无限性
- 诱惑累积效应

### 关键特征
- **双重保存机制**: 服务器优先，本地备份
- **完整数据保留**: 保存原始问题文本和所有选项信息
- **结构化格式**: JSON数组便于后续数据分析
- **用户体验优化**: 保存失败时自动切换到下载模式
- **数据完整性**: 包含问题上下文信息，便于理解和分析

### 文件位置
- 本地保存文件: `theories-of-willpower-survey_result.json`（用户下载文件夹）
- 服务器保存: 通过 `/save` API端点处理
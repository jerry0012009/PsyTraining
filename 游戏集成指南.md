# è®¤çŸ¥è®­ç»ƒç³»ç»Ÿ - æ¸¸æˆé›†æˆæŒ‡å—

æœ¬æ–‡æ¡£æŒ‡å¯¼å¦‚ä½•å°†HTMLå°æ¸¸æˆé›†æˆåˆ°è®¤çŸ¥è®­ç»ƒç³»ç»Ÿä¸­ï¼Œç¡®ä¿æ•°æ®è´¨é‡å’Œç”¨æˆ·ä½“éªŒçš„ä¸€è‡´æ€§ã€‚

## ğŸ“– ç³»ç»Ÿæ¶æ„

### æ ¸å¿ƒè®¾è®¡ç†å¿µ
- **å®Œå…¨è§£è€¦** - è®­ç»ƒç³»ç»Ÿä¸æ¸¸æˆç³»ç»Ÿç‹¬ç«‹è¿è¡Œ
- **ç»Ÿä¸€æ¥å£** - æ‰€æœ‰æ¸¸æˆé€šè¿‡TrainingAPIä¸è®­ç»ƒç³»ç»Ÿäº¤äº’
- **æ•°æ®é©±åŠ¨** - åŸºäºæ¸¸æˆæ•°æ®è¿›è¡Œè®¤çŸ¥åŠŸèƒ½åˆ†æ
- **ç”¨æˆ·å‹å¥½** - ç”¨æˆ·çœ‹åˆ°ç®€æ´çš„æ¸¸æˆç•Œé¢ï¼Œåå°è¿›è¡Œä¸“ä¸šåˆ†æ

### ç³»ç»Ÿç»„ä»¶ç»“æ„
```
è®¤çŸ¥è®­ç»ƒç³»ç»Ÿ/
â”œâ”€â”€ game-template/           # ğŸ® é€šç”¨è®­ç»ƒç³»ç»Ÿï¼ˆæ ¸å¿ƒæ¡†æ¶ï¼‰
â”‚   â”œâ”€â”€ template.html       # è®­ç»ƒç•Œé¢æ¨¡æ¿
â”‚   â”œâ”€â”€ template.css        # è®­ç»ƒç•Œé¢æ ·å¼  
â”‚   â””â”€â”€ template.js         # è®­ç»ƒé€»è¾‘æ§åˆ¶å™¨
â”œâ”€â”€ games/                  # ğŸ¯ æ¸¸æˆç›®å½•
â”‚   â”œâ”€â”€ snake/             # Snakeæ¸¸æˆï¼ˆå‚è€ƒå®ç°ï¼‰
â”‚   â””â”€â”€ [æ–°æ¸¸æˆ]/           # å¾…é›†æˆçš„æ–°æ¸¸æˆ
â”œâ”€â”€ [æ¸¸æˆå]-game.html      # ğŸ–¥ï¸ æ¸¸æˆé¡µé¢
â”œâ”€â”€ index.html              # ğŸ  ä¸»é¡µ
â””â”€â”€ README.md              # ğŸ“– ä½¿ç”¨è¯´æ˜
```

## ğŸš€ é›†æˆæµç¨‹ï¼ˆ5æ­¥æ³•ï¼‰

### æ­¥éª¤1ï¼šåˆ†ææ¸¸æˆç‰¹ç‚¹
- **æ¸¸æˆç±»å‹**ï¼šååº”ç±»ã€ç­–ç•¥ç±»ã€è®°å¿†ç±»ã€ç©ºé—´ç±»
- **æ ¸å¿ƒäº¤äº’**ï¼šæŒ‰é”®æ“ä½œã€é¼ æ ‡æ“ä½œã€è§¦æ‘¸æ“ä½œ
- **å…³é”®äº‹ä»¶**ï¼šå¾—åˆ†ã€å¤±è´¥ã€å®Œæˆå…³å¡ã€æ—¶é—´èŠ‚ç‚¹
- **è®¤çŸ¥éœ€æ±‚**ï¼šæ³¨æ„åŠ›ã€è®°å¿†ã€æ‰§è¡ŒåŠŸèƒ½ã€ç©ºé—´è®¤çŸ¥

### æ­¥éª¤2ï¼šåˆ›å»ºæ¸¸æˆç›®å½•
```bash
games/[æ¸¸æˆå]/
â”œâ”€â”€ game.html          # æ¸¸æˆç•Œé¢ç»„ä»¶
â”œâ”€â”€ game.css           # æ¸¸æˆæ ·å¼æ–‡ä»¶
â””â”€â”€ game.js            # æ¸¸æˆé€»è¾‘ç³»ç»Ÿï¼ˆä¸»è¦æ–‡ä»¶ï¼‰
```

### æ­¥éª¤3ï¼šå®ç°æ¸¸æˆç±»ï¼ˆæ ¸å¿ƒï¼‰
```javascript
class YourGame {
    constructor() {
        this.gameState = {
            isRunning: false, isPaused: false, currentRound: 0, score: 0
        };
        this.gameData = { rounds: [], currentRoundData: null };
        this.initializeGame();
    }

    // ğŸ”´ å¿…é¡»å®ç° - ç›‘å¬è®­ç»ƒç³»ç»Ÿäº‹ä»¶
    initializeGame() {
        window.addEventListener('trainingSystemEvent', (event) => {
            this.handleTrainingEvent(event.detail);
        });
    }

    // ğŸ”´ å¿…é¡»å®ç° - å¤„ç†è®­ç»ƒç³»ç»Ÿäº‹ä»¶
    handleTrainingEvent(eventDetail) {
        switch (eventDetail.event) {
            case 'training_start': this.startFirstRound(); break;
            case 'training_pause': this.pauseGame(); break;
            case 'training_resume': this.resumeGame(); break;
            case 'training_end': this.endAllRounds(); break;
        }
    }

    // ğŸ”´ å¿…é¡»å®ç° - æŠ¥å‘Šæ•°æ®ç»™è®­ç»ƒç³»ç»Ÿ
    reportToTrainingSystem() {
        const report = {
            gameType: 'your_game_name',
            currentRound: this.gameState.currentRound,
            roundData: this.gameData.currentRoundData,
            totalStats: { /* åŸºç¡€ç»Ÿè®¡ */ },
            cognitiveMetrics: this.calculateCognitiveMetrics()
        };
        
        if (window.TrainingAPI) {
            TrainingAPI.reportGameData(report);
        }
    }

    // ğŸ”´ å¿…é¡»å®ç° - è®¡ç®—è®¤çŸ¥åŠŸèƒ½æŒ‡æ ‡
    calculateCognitiveMetrics() {
        // è¯¦è§è®¤çŸ¥åŠŸèƒ½åˆ†ææ¡†æ¶
        return { /* è®¤çŸ¥æŒ‡æ ‡ */ };
    }
}
```

### æ­¥éª¤4ï¼šåˆ›å»ºæ¸¸æˆé¡µé¢
```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <title>[æ¸¸æˆå] - å¿ƒç†æµ‹é‡è®­ç»ƒ</title>
    <link rel="stylesheet" href="game-template/template.css">
    <link rel="stylesheet" href="games/[æ¸¸æˆå]/game.css">
</head>
<body>
    <div class="game-platform">
        <!-- å¤åˆ¶æ ‡å‡†çš„æ§åˆ¶æ ç»“æ„ -->
        <div class="control-bar">...</div>
        
        <!-- æ¸¸æˆå®¹å™¨ -->
        <div class="game-container">
            <div id="game-content" class="game-content">
                <!-- åµŒå…¥æ¸¸æˆHTML -->
                <!-- æ·»åŠ æ¸¸æˆè¯´æ˜ -->
            </div>
        </div>
        
        <!-- ä¿¡æ¯æ  -->
        <div class="info-bar">...</div>
    </div>

    <script src="game-template/template.js"></script>
    <script src="games/[æ¸¸æˆå]/game.js"></script>
</body>
</html>
```

### æ­¥éª¤5ï¼šæ›´æ–°ä¸»é¡µ
åœ¨`index.html`ä¸­æ·»åŠ æ¸¸æˆå¡ç‰‡ï¼š
```html
<div class="game-card">
    <div class="game-icon"><i class="fas fa-[å›¾æ ‡]"></i></div>
    <h3>[æ¸¸æˆå]</h3>
    <p>[æ¸¸æˆæè¿°]</p>
    <a href="[æ¸¸æˆå]-game.html" class="game-btn">å¼€å§‹è®­ç»ƒ</a>
</div>
```

## ğŸ“‹ ä»£ç è§„èŒƒè¦æ±‚

### å¿…é¡»å®ç°çš„æ–¹æ³•
```javascript
// ğŸ”´ å¿…é¡»å®ç°
handleTrainingEvent(eventDetail)     // å¤„ç†è®­ç»ƒç³»ç»Ÿäº‹ä»¶
reportToTrainingSystem()             // æŠ¥å‘Šæ•°æ®ç»™è®­ç»ƒç³»ç»Ÿ
calculateCognitiveMetrics()          // è®¡ç®—è®¤çŸ¥åŠŸèƒ½æŒ‡æ ‡

// ğŸŸ¡ å»ºè®®å®ç°
startFirstRound()                    // å¼€å§‹ç¬¬ä¸€è½®
pauseGame() / resumeGame()           // æš‚åœ/æ¢å¤æ¸¸æˆ
endAllRounds()                       // ç»“æŸæ‰€æœ‰è½®æ¬¡
```

### äº‹ä»¶å¤„ç†è§„èŒƒ
```javascript
handleKeyDown(event) {
    // ğŸ”´ é‡è¦ï¼šé˜»æ­¢é¡µé¢æ»šåŠ¨
    if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(event.key)) {
        event.preventDefault();
    }
    
    // ğŸ”´ é‡è¦ï¼šåªè®°å½•å…³é”®äº‹ä»¶ï¼Œé¿å…é«˜é¢‘è®°å½•å½±å“æ€§èƒ½
    this.recordEvent('key_press', { key: event.key });
}

recordEvent(type, data = {}) {
    if (this.gameData.currentRoundData) {
        this.gameData.currentRoundData.events.push({
            timestamp: Date.now(), type, data
        });
    }
}
```

## ğŸ“Š æ•°æ®æ ¼å¼æ ‡å‡†

### æ¸¸æˆæŠ¥å‘Šæ•°æ®ç»“æ„
```javascript
const gameReport = {
    gameType: 'game_name',           // æ¸¸æˆç±»å‹æ ‡è¯†
    currentRound: 1,                 // å½“å‰è½®æ¬¡
    
    roundData: {
        roundNumber: 1,              // è½®æ¬¡ç¼–å·
        startTime: 1640995200000,    // å¼€å§‹æ—¶é—´æˆ³
        endTime: 1640995260000,      // ç»“æŸæ—¶é—´æˆ³
        duration: 60000,             // æŒç»­æ—¶é—´(ms)
        score: 150,                  // å¾—åˆ†
        events: [{                   // å…³é”®äº‹ä»¶è®°å½•
            timestamp: 1640995210000,
            type: 'key_press',
            data: { key: 'ArrowUp' }
        }],
        gameSpecificData: {}         // æ¸¸æˆç‰¹å®šæ•°æ®
    },
    
    totalStats: {
        totalRounds: 5,              // æ€»è½®æ•°
        totalScore: 750,             // æ€»å¾—åˆ†
        avgScore: 150,               // å¹³å‡å¾—åˆ†
        maxScore: 200                // æœ€é«˜å¾—åˆ†
    },
    
    cognitiveMetrics: {}             // è®¤çŸ¥åŠŸèƒ½åˆ†æ
};
```

### JSONè¾“å‡ºæ ¼å¼ï¼ˆæ§åˆ¶å°ï¼‰
```javascript
// ç³»ç»Ÿä¼šè‡ªåŠ¨è¾“å‡ºç»“æ„åŒ–JSONæ•°æ®ï¼š
{
    "trainingInfo": {
        "startTime": "2024-01-01T12:00:00.000Z",
        "totalDurationSeconds": 300,
        "totalGameReports": 5
    },
    "gameDataSummary": {
        "totalRounds": 5,
        "averageScore": 17,
        "maxScore": 25,
        "scoreImprovement": 12
    },
    "cognitiveAnalysis": { /* è¯¦ç»†è®¤çŸ¥æŒ‡æ ‡ */ },
    "detailedGameReports": [ /* å®Œæ•´æ¸¸æˆæ•°æ® */ ]
}
```

## ğŸ§  è®¤çŸ¥åŠŸèƒ½åˆ†ææ¡†æ¶

### äº”å¤§è®¤çŸ¥é¢†åŸŸ
1. **æ‰§è¡ŒåŠŸèƒ½** - è®¡åˆ’èƒ½åŠ›ã€è®¤çŸ¥çµæ´»æ€§ã€å†²åŠ¨æ§åˆ¶
2. **æ³¨æ„åŠ›åŠŸèƒ½** - æŒç»­æ³¨æ„ã€é€‰æ‹©æ³¨æ„ã€åˆ†æ•£æ³¨æ„
3. **å­¦ä¹ ä¸è®°å¿†** - å·¥ä½œè®°å¿†ã€å­¦ä¹ èƒ½åŠ›ã€æ¨¡å¼è¯†åˆ«
4. **å¤„ç†é€Ÿåº¦** - ååº”æ—¶é—´ã€å†³ç­–åˆ¶å®šã€ä¿¡æ¯å¤„ç†
5. **ç©ºé—´è®¤çŸ¥** - ç©ºé—´è®°å¿†ã€ç©ºé—´å®šå‘ã€è§†ç©ºé—´æŠ€èƒ½

### æ¸¸æˆç±»å‹ä¸è®¤çŸ¥é¢†åŸŸå¯¹åº”
| æ¸¸æˆç±»å‹ | ä¸»è¦è®¤çŸ¥é¢†åŸŸ | å…³é”®æŒ‡æ ‡ |
|---------|-------------|----------|
| **ååº”ç±»æ¸¸æˆ** | å¤„ç†é€Ÿåº¦ã€æ³¨æ„åŠ› | ååº”æ—¶é—´ã€å‡†ç¡®æ€§ |
| **ç­–ç•¥ç±»æ¸¸æˆ** | æ‰§è¡ŒåŠŸèƒ½ã€å­¦ä¹ è®°å¿† | è§„åˆ’èƒ½åŠ›ã€å†³ç­–è´¨é‡ |
| **è®°å¿†ç±»æ¸¸æˆ** | å­¦ä¹ è®°å¿†ã€æ³¨æ„åŠ› | è®°å¿†å¹¿åº¦ã€ä¿æŒç‡ |
| **ç©ºé—´ç±»æ¸¸æˆ** | ç©ºé—´è®¤çŸ¥ã€æ‰§è¡ŒåŠŸèƒ½ | ç©ºé—´è®°å¿†ã€å¯¼èˆªèƒ½åŠ› |

### è®¤çŸ¥æŒ‡æ ‡è®¡ç®—ç¤ºä¾‹
```javascript
calculateCognitiveMetrics() {
    const rounds = this.gameData.rounds;
    const scores = rounds.map(r => r.score);
    const durations = rounds.map(r => r.duration);
    
    // è®¡ç®—è¾…åŠ©æ–¹æ³•
    const mean = arr => arr.reduce((sum, val) => sum + val, 0) / arr.length;
    const std = arr => {
        const m = mean(arr);
        return Math.sqrt(arr.reduce((sum, val) => sum + (val - m) ** 2, 0) / arr.length);
    };
    
    return {
        // æ³¨æ„åŠ›æŒ‡æ ‡
        attention: {
            sustainedAttention: {
                attentionSpan: mean(durations) / 1000,
                consistencyIndex: 1 - (std(scores) / mean(scores))
            }
        },
        
        // å¤„ç†é€Ÿåº¦æŒ‡æ ‡
        processingSpeed: {
            reactionTime: {
                avgReactionTime: this.calculateAvgReactionTime(),
                reactionConsistency: this.calculateReactionConsistency()
            }
        },
        
        // å…ƒæ•°æ®
        analysisMetadata: {
            totalRounds: rounds.length,
            dataQuality: this.assessDataQuality(rounds)
        }
    };
}
```

## ğŸ§ª æµ‹è¯•éªŒè¯

### åŠŸèƒ½æµ‹è¯•æ¸…å•
- [ ] æ¸¸æˆæ­£å¸¸å¯åŠ¨å’Œè¿è¡Œ
- [ ] è®­ç»ƒç³»ç»Ÿäº‹ä»¶å“åº”æ­£ç¡®
- [ ] æš‚åœ/æ¢å¤åŠŸèƒ½æ­£å¸¸
- [ ] å¤šè½®æ¸¸æˆæ¨¡å¼å·¥ä½œ
- [ ] æ•°æ®è®°å½•å®Œæ•´å‡†ç¡®
- [ ] JSONè¾“å‡ºæ ¼å¼æ­£ç¡®
- [ ] è®¤çŸ¥æŒ‡æ ‡è®¡ç®—åˆç†
- [ ] ç•Œé¢é€‚é…è‰¯å¥½

### æ€§èƒ½è¦æ±‚
- æ¸¸æˆè¿è¡Œæµç•…ï¼ˆ>30fpsï¼‰
- æ•°æ®è®°å½•ä¸å½±å“æ¸¸æˆæ€§èƒ½
- å†…å­˜ä½¿ç”¨åˆç†
- é•¿æ—¶é—´è®­ç»ƒç¨³å®š

## â“ å¸¸è§é—®é¢˜

**Q: æŒ‰é”®å¯¼è‡´é¡µé¢æ»šåŠ¨ï¼Ÿ**
```javascript
// A: é˜»æ­¢é»˜è®¤è¡Œä¸º
if (['ArrowUp', 'ArrowDown'].includes(event.key)) {
    event.preventDefault();
}
```

**Q: æ¸¸æˆè¿è¡Œå¡é¡¿ï¼Ÿ**
```javascript
// A: ä¼˜åŒ–æ•°æ®è®°å½•ï¼Œåªè®°å½•å…³é”®äº‹ä»¶
recordEvent(type, data = {}) {
    if (this.isKeyEvent(type) && Date.now() - this.lastRecordTime < 100) return;
    // è®°å½•äº‹ä»¶...
}
```

**Q: è®¤çŸ¥æŒ‡æ ‡å¼‚å¸¸ï¼Ÿ**
```javascript
// A: æ·»åŠ æ•°æ®éªŒè¯
calculateCognitiveMetrics() {
    const metrics = this.computeMetrics();
    const validation = this.validateMetrics(metrics);
    if (!validation.isValid) {
        console.warn('æŒ‡æ ‡å¼‚å¸¸:', validation.errors);
    }
    return metrics;
}
```

## ğŸ¯ å¿«é€Ÿå¼€å§‹

1. **å¤åˆ¶Snakeæ¸¸æˆç›®å½•** `games/snake/` ä½œä¸ºæ¨¡æ¿
2. **æ›¿æ¢æ¸¸æˆæ ¸å¿ƒé€»è¾‘** ä¿æŒæ¥å£ä¸å˜
3. **å®ç°è®¤çŸ¥åŠŸèƒ½åˆ†æ** æ ¹æ®æ¸¸æˆç‰¹ç‚¹è®¾è®¡
4. **åˆ›å»ºæ¸¸æˆé¡µé¢æ–‡ä»¶** ä½¿ç”¨æ ‡å‡†æ¨¡æ¿
5. **æ›´æ–°ä¸»é¡µæ¸¸æˆåˆ—è¡¨** æ·»åŠ æ–°æ¸¸æˆå¡ç‰‡
6. **æ‰§è¡Œæµ‹è¯•éªŒè¯** ç¡®ä¿åŠŸèƒ½å®Œæ•´

---

**å‚è€ƒå®ç°ï¼š** `games/snake/` - å®Œæ•´çš„å‚è€ƒå®ç°
**æŠ€æœ¯æ”¯æŒï¼š** å¦‚æœ‰é—®é¢˜ï¼Œå‚è€ƒSnakeæ¸¸æˆçš„å®ç°ç»†èŠ‚

æŒ‰ç…§æœ¬æŒ‡å—ï¼Œæ‚¨å¯ä»¥å¿«é€Ÿã€æ ‡å‡†åŒ–åœ°å°†ä»»ä½•HTMLå°æ¸¸æˆé›†æˆåˆ°è®¤çŸ¥è®­ç»ƒç³»ç»Ÿä¸­ï¼ğŸš€ 